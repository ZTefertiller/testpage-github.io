<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Cognitive Tasks â€“ KnolleLab</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="tasks.css">
</head>
<body class="interactive-tasks">

<header>
  <nav>
    <ul>
      <li><a href="/contact">Back to Franziskaknolle.com</a></li>
    </ul>
  </nav>
</header>

<main>
  <h1>Cognitive Tasks</h1>
  <h2>Here you can find our tasks currently used in the Knolle Lab!</h2>
  <section class="task-gallery">


  <!-- ------------------------------------------------------------------
    CARD TEMPLATE (copy-paste and swap image filenames / links)
    ------------------------------------------------------------------
    <article class="task-card">
      <figure>
        <img class="static" src="images/yourTask_static.jpg" alt="Describe the task">
        <img class="gif"    src="images/yourTask.gif"      alt="" aria-hidden="true">
      </figure>
      <div class="task-info">
        <h3>Task Title</h3>
        <div class="task-links">
          <div class="select-wrapper version-selector"> 
            <select> 
              <option data-static="images/yourTask_static.jpg"   
                      data-gif="images/yourTask.gif"             
                      data-demo="https://demo.example.com/your-task" selected>Version</option> 
            </select> 
            <svg class="select-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none"> 
              <path d="M1 1.5L6 6.5L11 1.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> 
            </svg> 
          </div> 
          <a class="demo"   href="https://demo.example.com/your-task" target="_blank" rel="noopener">Live Demo</a>
          <a class="github" href="https://github.com/your-org/your-task" target="_blank" rel="noopener">GitHub</a>
        </div>
      </div>
    </article>
  ------------------------------------------------------------------ -->






  <!-- === LIVE TASK CARDS === -->

  <!-- BART ------------------------------------------------------------>
  <article class="task-card">
    <figure class="bart-figure">
      <img class="static" src="images/bart.png"     alt="BART static preview" />
      <img class="gif"    src="images/bartgif.gif"  alt="BART animated preview" />
    </figure>
    <div class="task-info">
      <h3>Balloon Analogue Risk Task</h3>
      <div class="task-links">
        <div class="select-wrapper version-selector"> 
          <select> 
            <option data-static="images/bart.png"            
                    data-gif="images/bartgif.gif"            
                    data-demo="https://demo.example.com/two-stage" selected>Version</option> 
          </select> 
          <svg class="select-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none"> 
            <path d="M1 1.5L6 6.5L11 1.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> 
          </svg> 
        </div> 
        <a class="demo"   href="https://demo.example.com/two-stage" target="_blank" rel="noopener">Demo</a>
        <a class="about"  href="#">About</a>
        <a class="github" href="https://github.com/ZTefertiller/balloon-analogue-risk-task" target="_blank" rel="noopener">GitHub</a>
      </div>
      <div class="task-about">                      
        <p>Short description of the task goes here.</p>
                   </div>
    </div>
  </article>






  <!-- BEADS ----------------------------------------------------------->
   <!--
  <article class="task-card">
    <figure>
      <img class="static" src="images/task5_static.jpg" alt="Beads task preview">
      <img class="gif"    src="images/task5.gif"        alt="" aria-hidden="true">
    </figure>
    <div class="task-info">
      <h3>Beads Task</h3>
      <div class="task-links">
        <div class="select-wrapper version-selector"> 
          <select> 
            <option data-static="images/task5_static.jpg"   
                    data-gif="images/task5.gif"             
                    data-demo="https://demo.example.com/stop-signal" selected>Version</option> 
          </select> 
          <svg class="select-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none"> 
            <path d="M1 1.5L6 6.5L11 1.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> 
          </svg> 
        </div> 
        <a class="demo"   href="https://demo.example.com/stop-signal" target="_blank" rel="noopener">Demo</a>
        <a class="about"  href="#">About</a>
        <a class="github" href="https://github.com/your-org/stop-signal-task" target="_blank" rel="noopener">GitHub</a>
      </div>
      <div class="task-about">                      
                     <p>Short description of the task goes here.</p>
      </div>
    </div>
  </article>






  <!-- BEAST ----------------------------------------------------------->
  <article class="task-card">
    <figure>
      <img class="static" src="images/beast_static.png" alt="BEAST Task static preview">
      <img class="gif"    src="images/beast.gif"        alt="" aria-hidden="true">
    </figure>
    <div class="task-info">
      <h3>Berlin Estimate Adjustment Task</h3>
      <div class="task-links">
        <div class="select-wrapper version-selector"> 
          <select> 
            <option data-static="images/beast_static.png"  
                    data-gif="images/beast.gif"            
                    data-demo="https://studies.franziskaknolle.com/publix/gYR8RfeuzA6" selected>Version</option> 
          </select> 
          <svg class="select-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none"> 
            <path d="M1 1.5L6 6.5L11 1.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> 
          </svg> 
        </div> 
        <a class="demo"   href="https://studies.franziskaknolle.com/publix/gYR8RfeuzA6" target="_blank" rel="noopener">Demo</a>
        <a class="about"  href="#">About</a>
        <a class="github" href="https://github.com/your-org/go-nogo-task"              target="_blank" rel="noopener">GitHub</a>
      </div>
      <div class="task-about">  
        <p>Short description of the task goes here.</p>
      </div>
    </div>
  </article>




  <!-- PREDICTIVE LANGUAGE -------------------------------------------->
   <!--
  <article class="task-card">
    <figure>
      <img class="static" src="images/task6_static.jpg" alt="Predictive Language Preview">
      <img class="gif"    src="images/task6.gif"        alt="" aria-hidden="true">
    </figure>
    <div class="task-info">
      <h3>Predictive Language Task</h3>
      <div class="task-links">
        <div class="select-wrapper version-selector"> 
          <select> 
            <option data-static="images/task6_static.jpg"   
                    data-gif="images/task6.gif"             
                    data-demo="https://demo.example.com/predictivelanguage" selected>Version</option> 
          </select> 
          <svg class="select-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none"> 
            <path d="M1 1.5L6 6.5L11 1.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> 
          </svg> 
        </div> 
        <a class="demo"   href="https://demo.example.com/predictivelanguage" target="_blank" rel="noopener">Demo</a>
        <a class="about"  href="#">About</a>
        <a class="github" href="https://github.com/your-org/predictivelanguage"        target="_blank" rel="noopener">GitHub</a>
      </div>
      <div class="task-about">                   
        <p>Short description of the task goes here.</p>
      </div>
    </div>
  </article>




  <!-- PRL ------------------------------------------------------------->
   <!--
  <article class="task-card">
    <figure>
      <img class="static" src="images/task4_static.jpg" alt="Probabilistic Reversal Learning Task static preview">
      <img class="gif"    src="images/task4.gif"        alt="" aria-hidden="true">
    </figure>
    <div class="task-info">
      <h3>Probabilistic Reversal Learning</h3>
      <div class="task-links">
        <div class="select-wrapper version-selector">
          <select>
            <option data-static="images/task4_static.jpg"  
                    data-gif="images/task4.gif"             
                    data-demo="https://demo.example.com/prl" selected>Version</option> 
          </select> 
          <svg class="select-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none"> 
            <path d="M1 1.5L6 6.5L11 1.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> 
          </svg> 
        </div> 
        <a class="demo"   href="https://demo.example.com/prl" target="_blank" rel="noopener">Demo</a>
        <a class="about"  href="#">About</a>
        <a class="github" href="https://github.com/your-org/prl-task"     target="_blank" rel="noopener">GitHub</a>
      </div>
      <div class="task-about">                      
                     <p>Short description of the task goes here.</p>
      </div>
    </div>
  </article>





  <!-- TWO-STEP -------------------------------------------------------->
  <article class="task-card">
    <figure>
      <img id="twostep-static" class="static" src="images/twostep_akam.png" alt="Two-Step Task static preview">
      <img id="twostep-gif"    class="gif"    src="images/twostep_akam.gif" alt="" aria-hidden="true">
    </figure>
    <div class="task-info">
      <h3>Two-Step Task</h3>
      <div class="task-links">
        <div class="select-wrapper version-selector">
          <select id="twostep-version">
            <option value="akam"
                    data-static="images/twostep_akam.png"
                    data-gif="images/twostep_akam.gif"
                    data-demo="https://studies.franziskaknolle.com/publix/9fIQWDxno1f"
                    selected>Akam</option>
            <option value="maryia"
                    data-static="images/twostep_maryia.png"
                    data-gif="images/twostep_maryia.gif"
                    data-demo="https://studies.franziskaknolle.com/publix/gceES8sfZsE">Maryia</option>
          </select>
          <svg class="select-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
            <path d="M1 1.5L6 6.5L11 1.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>

        <a id="twostep-demo" class="demo" href="https://studies.franziskaknolle.com/publix/9fIQWDxno1f" target="_blank" rel="noopener">Demo</a>
        <a class="about"  href="#">About</a>
        <a class="github" href="https://github.com/your-org/twostep-task" target="_blank" rel="noopener">GitHub</a>
      </div>
      <div class="task-about">                      
                     <p>Short description of the task goes here.</p>
      </div>
    </div>
  </article>
</section>
<script>
document.addEventListener('DOMContentLoaded', () => {

  /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” overlay â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */
  const overlay = Object.assign(document.createElement('div'), { className: 'overlay' });
  document.body.appendChild(overlay);

  /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” shared state â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */
  let activeCard  = null;
  let placeholder = null;

  const lockScroll = on => { document.body.style.overflow = on ? 'hidden' : ''; };

  const makePlaceholder = (rect, anchor) => {
    placeholder = document.createElement('div');
    placeholder.className = 'card-placeholder';
    placeholder.style.width  = `${rect.width}px`;
    placeholder.style.height = `${rect.height}px`;
    anchor.parentNode.insertBefore(placeholder, anchor);
  };
  const removePlaceholder = () => { placeholder?.remove(); placeholder = null; };

  /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” per-card wiring â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */
  document.querySelectorAll('.task-card').forEach(card => {

    /* handles */
    const select    = card.querySelector('.version-selector select');
    const staticImg = card.querySelector('.static');
    const gifImg    = card.querySelector('.gif');
    const demoLink  = card.querySelector('.demo');
    const aboutBtn  = card.querySelector('.about');
    const aboutBox  = card.querySelector('.task-about');
    let   currentGif = gifImg.src;

    /* keep dropdown, preview & links in sync */
    if (select) {
      const sync = () => {
        const opt = select.options[select.selectedIndex];
        staticImg.src = opt.dataset.static;
        demoLink.href  = opt.dataset.demo;
        currentGif     = opt.dataset.gif;
        gifImg.src     = currentGif;                      // pre-cache
      };
      sync();
      select.addEventListener('change', sync);
    }

    const swapToGif = () => {
      staticImg.style.opacity = '1';
      gifImg.style.opacity    = '0';
      setTimeout(() => { staticImg.style.opacity = '0'; gifImg.style.opacity = '1'; }, 300);
    };

    /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” OPEN focus â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */
    const openFocus = () => {
      if (card === activeCard) return;          // already focused
      if (activeCard) closeFocus();             // close other card first

      removePlaceholder();                      // kill any orphan
      const rect = card.getBoundingClientRect();
      makePlaceholder(rect, card);

      /* freeze current spot */
      Object.assign(card.style, {
        position :'fixed',
        top      : `${rect.top}px`,
        left     : `${rect.left}px`,
        width    : `${rect.width}px`,
        height   : `${rect.height}px`,
        margin   : 0,
        transform: 'translate(0,0)'
      });

      /* target dims */
      const maxW  = window.innerWidth  * 0.96;
      const maxH  = window.innerHeight * 0.90;
      const scale = Math.max(1, Math.min(maxW / rect.width, maxH / rect.height));
      const targetW = rect.width  * scale;
      const targetH = rect.height * scale;
      const dx = (window.innerWidth  - targetW) / 2 - rect.left;
      const dy = (window.innerHeight - targetH) / 2 - rect.top;

      requestAnimationFrame(() => {
        card.classList.add('focused');
        card.style.width     = `${targetW}px`;
        card.style.height    = `${targetH}px`;
        card.style.transform = `translate(${dx}px, ${dy}px)`;
      });

      /* ui tweaks */
      overlay.classList.add('show');
      aboutBtn && (aboutBtn.style.display = 'none');
      aboutBox.classList.add('open');
      gifImg.src = currentGif;
      swapToGif();

      activeCard = card;
      lockScroll(true);
    };

    /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” CLOSE focus â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */
    const closeFocus = () => {
      if (!activeCard) return;

      const slot = placeholder.getBoundingClientRect();
      activeCard.classList.remove('focused');
      activeCard.style.transform = 'translate(0,0)';
      activeCard.style.width     = `${slot.width}px`;
      activeCard.style.height    = `${slot.height}px`;

      overlay.classList.remove('show');
      activeCard.querySelector('.task-about').classList.remove('open');
      activeCard.querySelector('.about').style.display = '';

      staticImg.style.opacity = '1';
      gifImg.style.opacity    = '0';

      /* one-shot clean-up (called from listener or timeout) */
      const finishClose = () => {
        if (!activeCard) return;          // already cleaned
        activeCard.style.cssText = '';
        removePlaceholder();
        activeCard = null;
        lockScroll(false);
      };

      /* wait for the transform transition */
      activeCard.addEventListener('transitionend', function tidy(e) {
        if (e.propertyName !== 'transform') return;
        activeCard.removeEventListener('transitionend', tidy);
        finishClose();
      }, { once: true });

      /* fallback in case transitionend never fires */
      setTimeout(finishClose, 650);       // match +100 ms over .35 s transition
    };

    /* clicks */
    card.addEventListener('click', e => {
      if (e.target.closest('a, select')) return;
      e.preventDefault();
      (card === activeCard) ? closeFocus() : openFocus();
    });
    aboutBtn?.addEventListener('click', e => { e.preventDefault(); openFocus(); });
    overlay.addEventListener('click', closeFocus);
  });
});
</script>





</main>
<footer style="text-align:center;margin-top:4rem;font-size:.8rem;">
  <p>&copy; <script>document.write(new Date().getFullYear())</script> KnolleLab</p>
</footer>

</body>
</html>